<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Title</title>
    </head>
    <link href="js/lib/kendo-ui/styles/kendo.common.min.css" rel="stylesheet"/>
    <link href="js/lib/kendo-ui/styles/kendo.default.min.css" rel="stylesheet"/>
    <script src="js/app/dojo-config.js"></script>
    <script src="js/lib/dojo/dojo.js"></script>
    <body>
        <script id="index" type="text/x-kendo-template">
            Hello <span data-bind="text: foo"></span>
            <button data-bind="click: buttonClick">Click me to call view model code</button>
            <a href="#" data-bind="click: goToView2">Go to view 2</a>
        </script>
        <input id="dpicker" type="datetime"/>
        <div id="app">

        </div>
        <script>
            require([
                        "dojo/ready",
                        "$",
                        "kendo-ui/kendo.core.min",
                        "kendo-ui/kendo.router.min",
                        "kendo-ui/kendo.view.min"],
                    function (ready, $, kendo) {

                        // models
                        var viewModel = kendo.observable({
                            foo: "World!",

                            init: function() {
                                console.log("view init", this.foo);
                            },

                            show: function() {
                                console.log("view show", this.foo);
                            },

                            buttonClick: function() {
                                alert("button clicked");
                            },

                            goToView2: function(e) {
                                router.navigate("/detail");
                                e.preventDefault();
                            }
                        });

                        var router = new kendo.Router();
                        var layout = new kendo.Layout("<header>Header</header><section id='content'></section><footer>Footer</footer>");
                        var index = new kendo.View("index", { model: viewModel, init: viewModel.init.bind(viewModel), show: viewModel.show.bind(viewModel) });
                        var detail = new kendo.View("<span>Detail - press your browser back button to navigate back.</span>");

                        ready(function () {
                            $('#dpicker').kendoDatePicker();

                            router.bind("init", function() {
                                layout.render($("#app"));
                            });

                            router.route("/", function() {
                                layout.showIn("#content", index);
                            });

                            router.route("/detail", function() {
                                layout.showIn("#content", detail);
                            });

                            $(function () {
                                router.start();
                            });
                        });


                    });
        </script>
    </body>
</html>